{"version":3,"sources":["app.js","action/action.module.js","step/step.module.js","survey/survey.module.js","action/action-defintion.directive.js","action/ask-question-data.directive.js","action/display-content-data.directive.js","step/step-definition.directive.js","survey/survey-json.directive.js","survey/survey.controller.js","survey/survey.directive.js"],"names":["angular","module","directive","restrict","scope","action","stepIndex","actionIndex","link","element","on","event","preventDefault","availableActions","type","text","select","selectedAction","selectedItemText","hasOwnProperty","forEach","templateUrl","syncRules","rules","actionRules","rule","indexOf","name","checked","data","resultColumn","$watch","map","value","push","html","step","id","actions","addAction","deleteAction","index","splice","survey","prettyJson","toJson","SurveyController","this","steps","outputJson","isCollapsed","toggleCollapse","toggleJson","reset","controller","createStep","deleteStep"],"mappings":"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","file":"js/app-908909b864.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular.module('surveyGenerator', [\n    'ngAnimate',\n    'ui.bootstrap',\n    'surveyGenerator.survey'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.action', [ ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.step', [\n    'surveyGenerator.action'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey', [\n    'angular-clipboard',\n    'surveyGenerator.step'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.action')\n    .directive('actionDefinition', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '=',\n          stepIndex: '@',\n          actionIndex: '@'\n        },\n        link: function(scope, element) {\n          element.on('click', function(event) {\n            event.preventDefault();\n          });\n\n          scope.availableActions = [{\n            type: 'AskQuestion',\n            text: 'Ask Question'\n          }, {\n            type: 'DisplayContent',\n            text: 'Display HTML'\n          }];\n\n          scope.select = function(selectedAction) {\n            scope.action.type = selectedAction.type;\n            scope.selectedItemText = selectedAction.text;\n          };\n\n          if (scope.action.hasOwnProperty('type')) {\n            scope.availableActions.forEach(function(action) {\n              if (action.type === scope.action.type) {\n                scope.selectedItemText = action.text;\n              }\n            });\n          } else {\n            scope.select(scope.availableActions[0]);\n          }\n        },\n        templateUrl: 'js/action/action-definition.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  function syncRules(rules, actionRules) {\n    angular.forEach(rules, function(rule) {\n      if (actionRules.indexOf(rule.name) !== -1) {\n        rule.checked = true;\n      }\n    });\n  }\n\n  angular.module('surveyGenerator')\n    .directive('askQuestionData', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '=',\n          stepIndex: '@',\n          actionIndex: '@'\n        },\n        link: function(scope) {\n          scope.action.data = scope.action.data || {};\n          scope.action.data.text = scope.action.data.text || '';\n          scope.action.data.resultColumn = scope.action.data.resultColumn || '';\n          scope.action.data.rules = scope.action.data.rules || [];\n\n          scope.rules = [{\n            text: 'Is a whole number',\n            name: 'IsAWholeNumber',\n            checked: false\n          }, {\n            text: 'Required',\n            name: 'Required',\n            checked: false\n          }];\n\n          syncRules(scope.rules, scope.action.data.rules);\n\n          scope.$watch(function() {\n            return scope.rules.map(function(rule) {\n              return rule.checked;\n            });\n          }, function() {\n            scope.action.data.rules = [];\n\n            angular.forEach(scope.rules, function(value) {\n              if (value.checked) {\n                scope.action.data.rules.push(value.name);\n              }\n            });\n          }, true);\n        },\n        templateUrl: 'js/action/ask-question-data.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator')\n    .directive('displayContentData', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '=',\n          stepIndex: '@',\n          actionIndex: '@'\n        },\n        link: function(scope) {\n          scope.action.data = scope.action.data || {};\n          scope.action.data.html = scope.action.data.html || '';\n        },\n        templateUrl: 'js/action/display-content-data.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.step')\n    .directive('stepDefinition', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          step: '=',\n          stepIndex: '@'\n        },\n        link: function(scope) {\n          scope.step.id = scope.step.id || '';\n          scope.step.actions = scope.step.actions || [];\n          // scope.step.transitions = scope.step.transitions || [];\n\n          scope.addAction = function() {\n            scope.step.actions.push({});\n          };\n\n          scope.deleteAction = function(index) {\n            scope.step.actions.splice(index, 1);\n          };\n        },\n        templateUrl: 'js/step/step-defintion.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .directive('surveyJson', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          survey: '='\n        },\n        link: function(scope) {\n          scope.prettyJson = angular.toJson(scope.survey, true);\n        },\n        templateUrl: 'js/survey/survey-json.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .controller('SurveyController', SurveyController);\n\n  function SurveyController() {\n    this.survey = { steps: [] };\n    this.outputJson = false;\n    this.isCollapsed = true;\n\n    this.toggleCollapse = function() {\n      this.isCollapsed = !this.isCollapsed;\n    };\n\n    this.toggleJson = function() {\n      this.outputJson = !this.outputJson;\n    };\n\n    this.reset = function(event) {\n      event.preventDefault();\n\n      this.survey = { steps: [] };\n      this.outputJson = false;\n    };\n  }\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .directive('survey', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          survey: '='\n        },\n        link: function(scope) {\n          scope.createStep = function() {\n            scope.survey.steps.push({});\n          };\n\n          scope.deleteStep = function(index) {\n            scope.survey.steps.splice(index, 1);\n          };\n        },\n        templateUrl: 'js/survey/survey.html'\n      };\n    });\n})();\n"],"sourceRoot":"/source/"}